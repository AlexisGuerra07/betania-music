<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Betania Music - Gestor de Canciones</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section" id="logo-home" style="cursor: pointer;">
                <div class="logo-icon">
                    <svg width="32" height="32" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Llama/Esp√≠ritu Santo estilizada -->
                        <path d="M50 15C35 15 25 25 25 40C25 50 30 58 35 62C40 67 45 70 50 70C55 70 60 67 65 62C70 58 75 50 75 40C75 25 65 15 50 15Z" fill="white"/>
                        <path d="M50 20C38 20 30 28 30 40C30 48 34 54 38 58C42 62 46 65 50 65C54 65 58 62 62 58C66 54 70 48 70 40C70 28 62 20 50 20Z" fill="none" stroke="white" stroke-width="1"/>
                        <!-- Forma interna de la llama -->
                        <path d="M50 25C42 25 35 32 35 42C35 48 38 52 42 55C45 57 48 58 50 58C52 58 55 57 58 55C62 52 65 48 65 42C65 32 58 25 50 25Z" fill="rgba(255,255,255,0.8)"/>
                        <!-- Detalle central -->
                        <ellipse cx="50" cy="45" rx="8" ry="15" fill="rgba(255,255,255,0.6)"/>
                        <!-- Parte superior de la llama -->
                        <path d="M50 15C46 18 44 22 44 28C44 32 46 35 48 37C49 38 50 38 50 38C50 38 51 38 52 37C54 35 56 32 56 28C56 22 54 18 50 15Z" fill="rgba(255,255,255,0.9)"/>
                    </svg>
                </div>
                <div class="logo-text">Betania Music</div>
            </div>
            <nav>
                <div class="nav-tabs">
                    <button class="nav-tab active" data-route="canciones">Canciones</button>
                    <button class="nav-tab" data-route="edicion">Edici√≥n</button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Songs List View -->
        <div class="view active" id="view-canciones">
            <div class="songs-container">
                <div class="section-header">
                    <h2 class="section-title">Canciones</h2>
                    <button class="btn-add-song" id="btn-add-song">+ A√±adir canci√≥n</button>
                </div>

                <div class="search-container">
                    <input type="text" class="search-box" id="search-box" placeholder="Buscar por t√≠tulo o autor...">
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="empty-state">
                    <h3>A√∫n no hay canciones</h3>
                    <p>Pulsa "A√±adir canci√≥n" para crear la primera.</p>
                </div>

                <!-- Songs Grid -->
                <div class="songs-grid" id="songs-grid" style="display: none;">
                    <!-- Songs will be dynamically added here -->
                </div>
            </div>
        </div>

        <!-- Song Reader View -->
        <div class="view" id="view-song-reader">
            <div class="song-reader">
                <div class="reader-header">
                    <button class="btn" id="btn-back-to-list">‚Üê Volver a canciones</button>
                    <div class="reader-title" id="reader-title">T√≠tulo de la canci√≥n</div>
                    <div class="reader-meta" id="reader-meta">Autor ‚Ä¢ Tonalidad base</div>
                    
                    <div class="reader-controls">
                        <div class="transpose-controls">
                            <span style="font-size: 0.8rem; color: var(--gray-500);">Tonalidad:</span>
                            <button class="transpose-btn" id="btn-transpose-down-reader">‚ô≠</button>
                            <div class="current-key" id="current-key-reader">C</div>
                            <button class="transpose-btn" id="btn-transpose-up-reader">‚ôØ</button>
                            <button class="btn btn-sm" id="btn-reset-key-reader">Base</button>
                        </div>
                        
                        <button class="btn btn-primary" id="btn-edit-song">Editar</button>
                    </div>
                </div>

                <div class="song-content" id="song-content">
                    <!-- Song sections will be rendered here -->
                </div>
            </div>
        </div>

        <!-- Editor View -->
        <div class="view" id="view-edicion">
            <div class="editor-container">
                <!-- Editor Sidebar -->
                <div class="editor-sidebar">
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">Estructura</h3>
                        <div id="sections-outline">
                            <!-- Outline will be generated here -->
                        </div>
                        <button class="btn btn-sm" id="btn-add-section" style="width: 100%; margin-top: 0.5rem;">+ Secci√≥n</button>
                    </div>
                    
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">Acciones</h3>
                        <button class="btn btn-sm" id="btn-transpose-up" style="width: 100%; margin-bottom: 0.25rem;">‚ôØ Subir tono</button>
                        <button class="btn btn-sm" id="btn-transpose-down" style="width: 100%; margin-bottom: 0.25rem;">‚ô≠ Bajar tono</button>
                        <button class="btn btn-sm" id="btn-reset-transpose" style="width: 100%;">Reset</button>
                    </div>
                </div>

                <!-- Editor Main -->
                <div class="editor-main">
                    <div class="editor-toolbar">
                        <div class="toolbar-left">
                            <button class="btn btn-sm" id="btn-back-from-editor">‚Üê Volver</button>
                            <input type="text" id="song-title-editor" placeholder="T√≠tulo de la canci√≥n" 
                                   style="font-size: 1.1rem; font-weight: 600; border: none; background: transparent; outline: none; min-width: 200px;">
                        </div>
                        
                        <div class="toolbar-right">
                            <div class="chips-container">
                                <div class="chip" id="key-chip">
                                    <span>Tonalidad:</span>
                                    <span id="key-status">C</span>
                                </div>
                            </div>
                            <span class="save-indicator" id="save-indicator">Guardado</span>
                            <button class="btn btn-sm" id="btn-reanalyze" style="display: none;">üîÑ Reanalizar</button>
                            <button class="btn btn-sm" id="btn-add-pair-editor">+ Par</button>
                            <button class="btn btn-primary" id="btn-save-song">Guardar</button>
                        </div>
                    </div>

                    <!-- Editor Content -->
                    <div class="editor-content" id="editor-content">
                        <!-- Sections and pairs will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
